<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Pi5 Command Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&family=Outfit:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet"/>
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --bg: #04070f;
    --surface: rgba(255,255,255,0.032);
    --surface-hover: rgba(255,255,255,0.055);
    --border: rgba(255,255,255,0.07);
    --border-lit: rgba(99,179,255,0.25);
    --blue: #3b9eff;
    --blue-dim: rgba(59,158,255,0.12);
    --green: #22d98e;
    --green-dim: rgba(34,217,142,0.12);
    --orange: #ff8c42;
    --red: #ff4f6a;
    --yellow: #ffd166;
    --purple: #a78bfa;
    --purple-dim: rgba(167,139,250,0.12);
    --text: #e2eeff;
    --text-mid: #7a9abf;
    --text-dim: #3a5070;
    --mono: 'JetBrains Mono', monospace;
    --sans: 'Outfit', sans-serif;
    --r: 14px;
    --r-sm: 8px;
  }

  html, body { height: 100%; }
  body {
    background: var(--bg);
    color: var(--text);
    font-family: var(--sans);
    min-height: 100vh;
    overflow-x: hidden;
    line-height: 1;
  }

  /* Ambient glows */
  .ambient { position: fixed; inset: 0; pointer-events: none; z-index: 0; overflow: hidden; }
  .blob { position: absolute; border-radius: 50%; filter: blur(100px); }
  .b1 { width:600px;height:600px;top:-150px;right:-100px;background:var(--blue);opacity:.10; }
  .b2 { width:500px;height:500px;bottom:-100px;left:-80px;background:#1a3a8f;opacity:.12; }
  .b3 { width:300px;height:300px;top:40%;left:35%;background:var(--purple);opacity:.06; }
  .b4 { width:250px;height:250px;bottom:20%;right:25%;background:var(--green);opacity:.05; }

  /* Scanlines */
  body::before {
    content:'';position:fixed;inset:0;
    background:repeating-linear-gradient(0deg,transparent,transparent 3px,rgba(0,0,0,0.04) 3px,rgba(0,0,0,0.04) 4px);
    pointer-events:none;z-index:1;
  }

  .layout { position:relative;z-index:2;min-height:100vh;display:flex;flex-direction:column; }

  /* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
  header {
    display:flex;align-items:center;justify-content:space-between;
    padding:13px 28px;
    border-bottom:1px solid var(--border);
    background:rgba(4,7,15,0.82);
    backdrop-filter:blur(20px);
    position:sticky;top:0;z-index:50;gap:16px;
  }
  .hdr-left { display:flex;align-items:center;gap:12px; }
  .logo {
    width:36px;height:36px;background:var(--blue);border-radius:10px;
    display:flex;align-items:center;justify-content:center;font-size:18px;
    box-shadow:0 0 20px rgba(59,158,255,0.4);flex-shrink:0;
  }
  .hdr-title { font-size:13px;font-weight:700;letter-spacing:-.01em; }
  .hdr-sub { display:flex;align-items:center;gap:6px;margin-top:2px; }
  .pulse-dot { width:5px;height:5px;border-radius:50%;background:var(--green);animation:pulse 2s ease-in-out infinite; }
  @keyframes pulse { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:.4;transform:scale(.75)} }
  .hdr-sub span { font-size:10px;font-family:var(--mono);color:var(--text-mid);letter-spacing:.05em; }

  .hdr-nav { display:flex;align-items:center;gap:2px; }
  .hdr-nav a {
    padding:6px 12px;border-radius:6px;font-size:11px;font-weight:600;
    color:var(--text-mid);text-decoration:none;letter-spacing:.02em;transition:all .18s;
  }
  .hdr-nav a:hover,.hdr-nav a.active { color:var(--text);background:var(--surface-hover); }
  .hdr-nav a.active { color:var(--blue); }

  /* Tab navigation for page sections */
  .hdr-tabs { display:flex;align-items:center;gap:3px;border:1px solid var(--border);border-radius:8px;padding:3px;background:var(--surface); }
  .hdr-tab {
    padding:5px 14px;border-radius:5px;font-size:10px;font-weight:700;
    color:var(--text-dim);cursor:pointer;transition:all .18s;letter-spacing:.06em;text-transform:uppercase;font-family:var(--mono);
    border:none;background:none;
  }
  .hdr-tab.active { background:var(--blue-dim);color:var(--blue);border:1px solid rgba(59,158,255,.2); }
  .hdr-tab:hover:not(.active) { color:var(--text-mid);background:rgba(255,255,255,.03); }

  .hdr-right { display:flex;align-items:center;gap:8px; }
  .icon-btn {
    width:32px;height:32px;border-radius:8px;border:1px solid var(--border);
    background:var(--surface);display:flex;align-items:center;justify-content:center;
    cursor:pointer;color:var(--text-mid);font-size:15px;transition:all .18s;
  }
  .icon-btn:hover { border-color:var(--border-lit);color:var(--text);background:var(--surface-hover); }
  .avatar {
    width:32px;height:32px;border-radius:50%;border:1.5px solid var(--border-lit);
    background:linear-gradient(135deg,var(--blue),#1a3a8f);
    display:flex;align-items:center;justify-content:center;
    font-size:12px;font-weight:700;cursor:pointer;box-shadow:0 0 12px rgba(59,158,255,.2);
  }

  /* ‚îÄ‚îÄ PAGE VIEWS ‚îÄ‚îÄ */
  .page { display:none;flex:1; }
  .page.active { display:flex;flex-direction:column; }

  /* ‚îÄ‚îÄ DASHBOARD GRID ‚îÄ‚îÄ */
  .dash-grid {
    padding:18px 28px 28px;
    display:grid;
    grid-template-columns: 210px 210px 1fr 1fr 210px;
    grid-template-rows: 185px 185px 165px;
    gap:11px;
    flex:1;
  }

  /* ‚îÄ‚îÄ CARD BASE ‚îÄ‚îÄ */
  .card {
    background:var(--surface);border:1px solid var(--border);
    border-radius:var(--r);padding:18px;position:relative;
    overflow:hidden;backdrop-filter:blur(16px);
    transition:border-color .25s,box-shadow .25s,background .25s;
    animation:fadeUp .5s ease both;
  }
  .card::after {
    content:'';position:absolute;top:0;left:0;right:0;height:1px;
    background:linear-gradient(90deg,transparent,rgba(59,158,255,.4),transparent);
    opacity:0;transition:opacity .25s;
  }
  .card:hover { border-color:var(--border-lit);box-shadow:0 0 30px rgba(59,158,255,.08);background:var(--surface-hover); }
  .card:hover::after { opacity:1; }
  @keyframes fadeUp { from{opacity:0;transform:translateY(14px)} to{opacity:1;transform:translateY(0)} }
  .card:nth-child(1){animation-delay:.04s}.card:nth-child(2){animation-delay:.08s}
  .card:nth-child(3){animation-delay:.12s}.card:nth-child(4){animation-delay:.16s}
  .card:nth-child(5){animation-delay:.20s}.card:nth-child(6){animation-delay:.24s}
  .card:nth-child(7){animation-delay:.28s}.card:nth-child(8){animation-delay:.32s}

  .card-label {
    font-size:9px;font-family:var(--mono);letter-spacing:.14em;
    color:var(--text-dim);text-transform:uppercase;margin-bottom:12px;
    display:flex;align-items:center;justify-content:space-between;
  }
  .tag {
    display:inline-flex;align-items:center;gap:4px;padding:2px 7px;
    border-radius:4px;font-size:9px;font-family:var(--mono);letter-spacing:.06em;font-weight:600;
  }
  .tag-blue { background:var(--blue-dim);color:var(--blue);border:1px solid rgba(59,158,255,.2); }
  .tag-green { background:var(--green-dim);color:var(--green);border:1px solid rgba(34,217,142,.2); }
  .tag-purple { background:var(--purple-dim);color:var(--purple);border:1px solid rgba(167,139,250,.2); }
  .tag-orange { background:rgba(255,140,66,.12);color:var(--orange);border:1px solid rgba(255,140,66,.2); }

  /* ‚îÄ‚îÄ CLOCK ‚îÄ‚îÄ */
  .clock-card { grid-column:1;grid-row:1;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center; }
  .clock-time { font-family:var(--mono);font-size:38px;font-weight:700;color:var(--text);letter-spacing:-2px;line-height:1;text-shadow:0 0 40px rgba(59,158,255,.3); }
  .clock-colon { animation:blink 1s step-end infinite; }
  @keyframes blink { 0%,100%{opacity:1} 50%{opacity:.15} }
  .clock-ss { font-size:24px;font-weight:400;color:var(--text-mid); }
  .clock-date { font-size:11px;color:var(--text-mid);margin-top:8px;font-weight:500;letter-spacing:.04em; }
  .clock-tz { font-size:9px;font-family:var(--mono);color:var(--text-dim);margin-top:3px;letter-spacing:.08em; }

  /* ‚îÄ‚îÄ WEATHER ‚îÄ‚îÄ */
  .weather-card { grid-column:2;grid-row:1; }
  .weather-top { display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px; }
  .weather-temp-big { font-size:44px;font-weight:800;line-height:1;letter-spacing:-2px; }
  .weather-temp-big sup { font-size:18px;font-weight:400;vertical-align:super;color:var(--text-mid); }
  .weather-desc { font-size:11px;color:var(--text-mid);margin-top:4px;font-weight:500; }
  .weather-loc { font-size:10px;color:var(--blue);font-family:var(--mono);margin-top:2px; }
  .weather-icon { font-size:42px;line-height:1;filter:drop-shadow(0 0 12px rgba(255,200,50,.4)); }
  .weather-forecast { display:flex;gap:6px; }
  .fday-card { flex:1;background:rgba(255,255,255,.03);border:1px solid var(--border);border-radius:var(--r-sm);padding:7px 5px;text-align:center; }
  .fd-name { font-size:8px;font-family:var(--mono);color:var(--text-dim);letter-spacing:.08em;text-transform:uppercase; }
  .fd-icon { font-size:15px;margin:3px 0; }
  .fd-temp { font-size:12px;font-weight:700; }

  /* ‚îÄ‚îÄ VITALS (2√ó2) ‚îÄ‚îÄ */
  .vitals-card { grid-column:3/5;grid-row:1/3;display:flex;flex-direction:column; }
  .vitals-header { display:flex;align-items:center;justify-content:space-between;margin-bottom:18px; }
  .vitals-title { font-size:13px;font-weight:700;display:flex;align-items:center;gap:8px; }
  .vitals-status {
    padding:4px 10px;border-radius:4px;font-size:9px;font-family:var(--mono);
    font-weight:600;letter-spacing:.12em;text-transform:uppercase;
    background:var(--green-dim);color:var(--green);border:1px solid rgba(34,217,142,.2);
    transition:all .4s;
  }
  .gauges-row { display:grid;grid-template-columns:repeat(3,1fr);gap:10px;flex:1;align-items:center; }
  .gauge-wrap { display:flex;flex-direction:column;align-items:center;gap:7px; }
  .gauge-container { position:relative; }
  .gauge-svg { transform:rotate(-90deg); }
  .gauge-track { fill:none;stroke:rgba(255,255,255,.05); }
  .gauge-fill { fill:none;stroke-linecap:round;transition:stroke-dasharray 1.2s cubic-bezier(.4,0,.2,1); }
  .gf-blue { stroke:var(--blue);filter:drop-shadow(0 0 5px rgba(59,158,255,.6)); }
  .gf-green { stroke:var(--green);filter:drop-shadow(0 0 5px rgba(34,217,142,.6)); }
  .gf-orange { stroke:var(--orange);filter:drop-shadow(0 0 5px rgba(255,140,66,.6)); }
  .gauge-center { position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center; }
  .gauge-val { font-size:19px;font-weight:800;font-family:var(--mono);line-height:1; }
  .gauge-unit { font-size:8px;color:var(--text-dim);text-transform:uppercase;letter-spacing:.1em;margin-top:2px;font-family:var(--mono); }
  .gauge-label { font-size:10px;color:var(--text-mid);font-weight:500; }
  .gauge-sub { font-size:9px;color:var(--text-dim);font-family:var(--mono); }
  .vitals-divider { height:1px;background:var(--border);margin:14px 0; }
  .vitals-bottom { display:grid;grid-template-columns:repeat(4,1fr);gap:8px; }
  .vstat { background:rgba(255,255,255,.025);border:1px solid var(--border);border-radius:8px;padding:10px 11px; }
  .vstat-label { font-size:8px;font-family:var(--mono);color:var(--text-dim);letter-spacing:.1em;text-transform:uppercase; }
  .vstat-val { font-size:15px;font-weight:700;margin-top:3px; }
  .vstat-sub { font-size:9px;color:var(--text-dim);margin-top:1px;font-family:var(--mono); }
  .prog { height:3px;background:rgba(255,255,255,.05);border-radius:2px;margin-top:5px;overflow:hidden; }
  .prog-fill { height:100%;border-radius:2px;transition:width 1s ease; }
  .pf-blue { background:linear-gradient(90deg,#1a6aff,var(--blue)); }
  .pf-green { background:linear-gradient(90deg,#0fba76,var(--green)); }

  /* ‚îÄ‚îÄ GITHUB ‚îÄ‚îÄ */
  .github-card { grid-column:5;grid-row:1/3;display:flex;flex-direction:column; }
  .gh-profile { display:flex;align-items:center;gap:10px;margin-bottom:12px; }
  .gh-ava {
    width:38px;height:38px;border-radius:50%;border:1.5px solid var(--border-lit);
    background:linear-gradient(135deg,#1e3a6e,var(--blue));
    display:flex;align-items:center;justify-content:center;
    font-size:14px;font-weight:800;box-shadow:0 0 16px rgba(59,158,255,.25);flex-shrink:0;
  }
  .gh-name { font-size:13px;font-weight:700; }
  .gh-user { font-size:10px;font-family:var(--mono);color:var(--blue);margin-top:1px; }
  .gh-nums { display:flex;gap:6px;margin-bottom:12px; }
  .gh-num { flex:1;background:rgba(255,255,255,.025);border:1px solid var(--border);border-radius:6px;padding:7px;text-align:center; }
  .gh-num-val { font-size:15px;font-weight:800;color:var(--green);font-family:var(--mono); }
  .gh-num-label { font-size:8px;color:var(--text-dim);font-family:var(--mono);letter-spacing:.08em;text-transform:uppercase;margin-top:2px; }
  .gh-total { font-size:12px;font-weight:700;color:var(--green);font-family:var(--mono); }
  .contrib-wrap { flex:1;overflow:hidden; }
  .contrib-grid { display:grid;grid-template-rows:repeat(7,1fr);grid-auto-flow:column;gap:2px;height:100%; }
  .cc { border-radius:2px;aspect-ratio:1;transition:opacity .2s; }
  .cc:hover { opacity:.6; }
  .c0 { background:rgba(255,255,255,.04); }
  .c1 { background:rgba(34,217,142,.2); }
  .c2 { background:rgba(34,217,142,.45); }
  .c3 { background:rgba(34,217,142,.7); }
  .c4 { background:rgba(34,217,142,.95);box-shadow:0 0 3px rgba(34,217,142,.4); }

  /* ‚îÄ‚îÄ COMMITS ‚îÄ‚îÄ */
  .commits-card { grid-column:1/3;grid-row:2;display:flex;flex-direction:column; }
  .commit-list { display:flex;flex-direction:column;gap:0;flex:1;overflow:hidden; }
  .commit-item { display:flex;align-items:flex-start;gap:9px;padding:9px 0;border-bottom:1px solid var(--border);cursor:pointer;transition:background .15s; }
  .commit-item:last-child { border-bottom:none;padding-bottom:0; }
  .commit-item:hover .commit-msg { color:var(--blue); }
  .commit-dot { width:7px;height:7px;border-radius:50%;background:var(--blue);flex-shrink:0;margin-top:4px;box-shadow:0 0 6px rgba(59,158,255,.6); }
  .commit-body { flex:1;min-width:0; }
  .commit-top { display:flex;align-items:center;gap:6px;margin-bottom:2px; }
  .commit-repo { font-size:8px;font-family:var(--mono);letter-spacing:.1em;padding:2px 6px;border-radius:3px;font-weight:600;text-transform:uppercase; }
  .cr-blue { background:rgba(59,158,255,.12);color:var(--blue);border:1px solid rgba(59,158,255,.2); }
  .cr-gray { background:rgba(255,255,255,.06);color:var(--text-mid);border:1px solid var(--border); }
  .commit-time { font-size:9px;color:var(--text-dim);font-family:var(--mono);margin-left:auto; }
  .commit-msg { font-size:11px;font-weight:500;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:color .15s; }
  .commit-sha { font-size:9px;font-family:var(--mono);color:var(--text-dim);margin-top:1px; }
  .btn-ghost {
    width:100%;padding:8px;border-radius:6px;border:1px solid var(--border);background:none;
    color:var(--text-mid);font-size:10px;font-family:var(--mono);letter-spacing:.1em;
    text-transform:uppercase;cursor:pointer;transition:all .18s;margin-top:10px;
  }
  .btn-ghost:hover { border-color:var(--border-lit);color:var(--text);background:var(--blue-dim); }

  /* ‚îÄ‚îÄ TASKS ‚îÄ‚îÄ */
  .tasks-card { grid-column:5;grid-row:3;display:flex;flex-direction:column; }
  .task-list { display:flex;flex-direction:column;gap:5px;flex:1; }
  .task-item {
    display:flex;align-items:flex-start;gap:9px;padding:8px 10px;border-radius:7px;
    border:1px solid var(--border);background:rgba(255,255,255,.02);cursor:pointer;transition:all .18s;
  }
  .task-item:hover { border-color:var(--border-lit);background:rgba(59,158,255,.05); }
  .task-item.done { opacity:.4; }
  .task-cb {
    width:14px;height:14px;border-radius:3px;border:1.5px solid var(--border-lit);
    background:none;flex-shrink:0;margin-top:1px;display:flex;align-items:center;justify-content:center;transition:all .18s;
  }
  .task-item.done .task-cb { background:var(--blue);border-color:var(--blue); }
  .task-chk { color:white;font-size:9px;display:none; }
  .task-item.done .task-chk { display:block; }
  .task-text { font-size:11px;font-weight:500;color:var(--text);line-height:1.3;flex:1;min-width:0; }
  .task-item.done .task-text { text-decoration:line-through; }
  .task-meta { font-size:9px;font-family:var(--mono);color:var(--text-dim);margin-top:2px;letter-spacing:.04em; }
  .task-pri { font-size:8px;font-family:var(--mono);padding:1px 5px;border-radius:3px;flex-shrink:0;margin-top:2px;font-weight:700;text-transform:uppercase;letter-spacing:.05em; }
  .phi { background:rgba(255,79,106,.12);color:var(--red);border:1px solid rgba(255,79,106,.2); }
  .pmd { background:rgba(255,209,102,.12);color:var(--yellow);border:1px solid rgba(255,209,102,.2); }
  .plo { background:rgba(34,217,142,.12);color:var(--green);border:1px solid rgba(34,217,142,.2); }
  .tasks-info { margin-top:8px;padding:7px 10px;border-radius:6px;background:rgba(59,158,255,.06);border:1px solid rgba(59,158,255,.15);font-size:10px;color:var(--text-mid);display:flex;align-items:center;gap:6px; }

  /* ‚îÄ‚îÄ NETWORK ‚îÄ‚îÄ */
  .network-card { grid-column:3/5;grid-row:3; }
  .net-inner { display:flex;align-items:center;gap:16px;height:calc(100% - 28px); }
  .net-stats { display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:10px; }
  .net-stat { background:rgba(255,255,255,.025);border:1px solid var(--border);border-radius:7px;padding:9px 11px; }
  .ns-label { font-size:8px;font-family:var(--mono);color:var(--text-dim);letter-spacing:.1em;text-transform:uppercase; }
  .ns-val { font-size:17px;font-weight:800;margin-top:2px;font-family:var(--mono); }
  .ns-sub { font-size:9px;color:var(--text-dim);margin-top:1px;font-family:var(--mono); }
  .net-divider { width:1px;background:var(--border);align-self:stretch;flex-shrink:0; }
  .net-right { display:flex;flex-direction:column;gap:5px;min-width:160px; }
  .net-ip { font-family:var(--mono);font-size:11px;color:var(--blue);background:var(--blue-dim);padding:4px 9px;border-radius:4px;border:1px solid rgba(59,158,255,.2); }
  .net-badge { font-size:9px;font-family:var(--mono);color:var(--text-dim);letter-spacing:.04em; }
  .net-badge b { color:var(--green); }
  .sparkline { width:100%;height:38px;display:block; }

  /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
  /* ‚îÄ‚îÄ N8N PAGE ‚îÄ‚îÄ */
  /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
  .n8n-page {
    padding:20px 28px 32px;
    flex:1;
    display:flex;
    flex-direction:column;
    gap:16px;
  }

  .n8n-topbar {
    display:flex;align-items:center;justify-content:space-between;
    padding-bottom:16px;border-bottom:1px solid var(--border);
  }
  .n8n-title { font-size:20px;font-weight:800;display:flex;align-items:center;gap:10px; }
  .n8n-title-icon {
    width:36px;height:36px;border-radius:10px;
    background:linear-gradient(135deg,#e44,#c026d3);
    display:flex;align-items:center;justify-content:center;font-size:18px;
    box-shadow:0 0 20px rgba(220,38,38,.3);
  }
  .n8n-sub { font-size:11px;color:var(--text-mid);margin-top:3px;font-family:var(--mono); }
  .n8n-add-btn {
    display:flex;align-items:center;gap:8px;padding:9px 16px;
    border-radius:8px;background:linear-gradient(135deg,#e44,#c026d3);
    border:none;color:white;font-size:12px;font-weight:700;cursor:pointer;
    transition:all .2s;box-shadow:0 0 20px rgba(220,38,38,.25);
    font-family:var(--sans);
  }
  .n8n-add-btn:hover { transform:translateY(-1px);box-shadow:0 4px 24px rgba(220,38,38,.4); }

  /* Stats row */
  .n8n-stats-row { display:grid;grid-template-columns:repeat(4,1fr);gap:10px; }
  .n8n-stat {
    background:var(--surface);border:1px solid var(--border);border-radius:var(--r);
    padding:16px 18px;transition:all .2s;
  }
  .n8n-stat:hover { border-color:var(--border-lit);background:var(--surface-hover); }
  .n8n-stat-label { font-size:9px;font-family:var(--mono);color:var(--text-dim);letter-spacing:.12em;text-transform:uppercase; }
  .n8n-stat-val { font-size:28px;font-weight:800;margin-top:4px;line-height:1; }
  .n8n-stat-sub { font-size:10px;color:var(--text-dim);margin-top:4px;font-family:var(--mono); }

  /* App grid */
  .n8n-grid-label {
    font-size:10px;font-family:var(--mono);color:var(--text-dim);letter-spacing:.14em;
    text-transform:uppercase;display:flex;align-items:center;justify-content:space-between;
  }
  .n8n-apps-grid { display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:10px;flex:1; }

  .n8n-app-card {
    background:var(--surface);border:1px solid var(--border);border-radius:var(--r);
    padding:16px;cursor:pointer;transition:all .22s;position:relative;overflow:hidden;
  }
  .n8n-app-card::before {
    content:'';position:absolute;top:0;left:0;right:0;height:2px;
    opacity:0;transition:opacity .22s;
  }
  .n8n-app-card:hover { border-color:var(--border-lit);background:var(--surface-hover);transform:translateY(-1px);box-shadow:0 8px 24px rgba(0,0,0,.3); }
  .n8n-app-card:hover::before { opacity:1; }
  .n8n-app-card.running::before { opacity:1; }
  .accent-red::before { background:linear-gradient(90deg,#e44,#c026d3); }
  .accent-blue::before { background:linear-gradient(90deg,var(--blue),#6366f1); }
  .accent-green::before { background:linear-gradient(90deg,var(--green),#06b6d4); }
  .accent-orange::before { background:linear-gradient(90deg,var(--orange),#f59e0b); }
  .accent-purple::before { background:linear-gradient(90deg,var(--purple),#ec4899); }

  .app-top { display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:10px; }
  .app-icon-wrap { display:flex;align-items:center;gap:10px; }
  .app-icon { width:36px;height:36px;border-radius:9px;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0; }
  .ai-red { background:linear-gradient(135deg,rgba(228,68,68,.2),rgba(192,38,211,.2));border:1px solid rgba(228,68,68,.3); }
  .ai-blue { background:linear-gradient(135deg,rgba(59,158,255,.2),rgba(99,102,241,.2));border:1px solid rgba(59,158,255,.3); }
  .ai-green { background:linear-gradient(135deg,rgba(34,217,142,.2),rgba(6,182,212,.2));border:1px solid rgba(34,217,142,.3); }
  .ai-orange { background:linear-gradient(135deg,rgba(255,140,66,.2),rgba(245,158,11,.2));border:1px solid rgba(255,140,66,.3); }
  .ai-purple { background:linear-gradient(135deg,rgba(167,139,250,.2),rgba(236,72,153,.2));border:1px solid rgba(167,139,250,.3); }
  .app-name { font-size:13px;font-weight:700;line-height:1; }
  .app-cat { font-size:9px;font-family:var(--mono);color:var(--text-dim);margin-top:3px;letter-spacing:.06em; }

  .app-status-badge {
    display:flex;align-items:center;gap:4px;padding:3px 8px;border-radius:4px;
    font-size:9px;font-family:var(--mono);font-weight:600;letter-spacing:.06em;flex-shrink:0;
  }
  .status-running { background:var(--green-dim);color:var(--green);border:1px solid rgba(34,217,142,.2); }
  .status-stopped { background:rgba(255,79,106,.1);color:var(--red);border:1px solid rgba(255,79,106,.2); }
  .status-paused  { background:rgba(255,209,102,.1);color:var(--yellow);border:1px solid rgba(255,209,102,.2); }

  .app-desc { font-size:11px;color:var(--text-mid);line-height:1.5;margin-bottom:10px; }

  .app-meta { display:flex;align-items:center;gap:8px;flex-wrap:wrap;margin-bottom:12px; }
  .app-meta-item { font-size:9px;font-family:var(--mono);color:var(--text-dim);display:flex;align-items:center;gap:3px; }

  .app-runs-bar { margin-bottom:12px; }
  .app-runs-label { display:flex;justify-content:space-between;margin-bottom:4px; }
  .app-runs-text { font-size:9px;font-family:var(--mono);color:var(--text-dim);letter-spacing:.06em; }
  .app-runs-count { font-size:9px;font-family:var(--mono);color:var(--text-mid);font-weight:600; }
  .runs-bar-track { height:3px;background:rgba(255,255,255,.05);border-radius:2px;overflow:hidden; }
  .runs-bar-fill { height:100%;border-radius:2px;transition:width .8s ease; }

  .app-actions { display:flex;gap:6px; }
  .app-btn {
    flex:1;padding:7px;border-radius:6px;border:1px solid var(--border);
    background:none;color:var(--text-mid);font-size:10px;font-family:var(--mono);
    letter-spacing:.06em;cursor:pointer;transition:all .18s;text-transform:uppercase;
  }
  .app-btn:hover { border-color:var(--border-lit);color:var(--text);background:var(--surface-hover); }
  .app-btn.primary { background:var(--blue-dim);color:var(--blue);border-color:rgba(59,158,255,.3); }
  .app-btn.primary:hover { background:rgba(59,158,255,.25);box-shadow:0 0 12px rgba(59,158,255,.2); }
  .app-btn.danger { color:var(--red);border-color:rgba(255,79,106,.2); }
  .app-btn.danger:hover { background:rgba(255,79,106,.1); }

  /* Add App Modal */
  .modal-backdrop {
    display:none;position:fixed;inset:0;background:rgba(4,7,15,.85);
    backdrop-filter:blur(8px);z-index:100;align-items:center;justify-content:center;
  }
  .modal-backdrop.open { display:flex; }
  .modal {
    background:#0a1020;border:1px solid var(--border-lit);border-radius:16px;
    padding:28px;width:100%;max-width:520px;position:relative;
    box-shadow:0 32px 80px rgba(0,0,0,.6);
    animation:modalIn .22s ease;
  }
  @keyframes modalIn { from{opacity:0;transform:scale(.95) translateY(8px)} to{opacity:1;transform:scale(1) translateY(0)} }
  .modal-close {
    position:absolute;top:16px;right:16px;width:28px;height:28px;border-radius:6px;
    border:1px solid var(--border);background:none;color:var(--text-mid);cursor:pointer;
    display:flex;align-items:center;justify-content:center;font-size:16px;transition:all .18s;
  }
  .modal-close:hover { border-color:var(--red);color:var(--red); }
  .modal-title { font-size:16px;font-weight:800;margin-bottom:4px; }
  .modal-sub { font-size:11px;color:var(--text-mid);font-family:var(--mono);margin-bottom:22px; }
  .form-group { margin-bottom:14px; }
  .form-label { font-size:10px;font-family:var(--mono);color:var(--text-dim);letter-spacing:.1em;text-transform:uppercase;margin-bottom:6px;display:block; }
  .form-input, .form-select, .form-textarea {
    width:100%;background:rgba(255,255,255,.04);border:1px solid var(--border);
    border-radius:8px;padding:10px 12px;color:var(--text);font-size:12px;
    font-family:var(--mono);outline:none;transition:border-color .18s;
  }
  .form-input:focus, .form-select:focus, .form-textarea:focus { border-color:var(--border-lit); }
  .form-select { appearance:none;cursor:pointer; }
  option { background:#0a1020; }
  .form-textarea { resize:vertical;min-height:60px;line-height:1.5; }
  .form-row { display:grid;grid-template-columns:1fr 1fr;gap:10px; }
  .modal-actions { display:flex;gap:8px;margin-top:20px; }
  .btn-cancel { flex:1;padding:10px;border-radius:8px;border:1px solid var(--border);background:none;color:var(--text-mid);font-size:12px;font-family:var(--mono);cursor:pointer;transition:all .18s;text-transform:uppercase;letter-spacing:.06em; }
  .btn-cancel:hover { border-color:var(--border-lit);color:var(--text); }
  .btn-submit { flex:2;padding:10px;border-radius:8px;border:none;background:linear-gradient(135deg,#e44,#c026d3);color:white;font-size:12px;font-weight:700;font-family:var(--sans);cursor:pointer;transition:all .2s;box-shadow:0 0 16px rgba(220,38,38,.25); }
  .btn-submit:hover { transform:translateY(-1px);box-shadow:0 4px 20px rgba(220,38,38,.4); }

  /* Quick-app template chips */
  .template-chips { display:flex;gap:6px;flex-wrap:wrap;margin-bottom:14px; }
  .tpl-chip {
    padding:5px 10px;border-radius:5px;border:1px solid var(--border);
    background:var(--surface);font-size:10px;font-family:var(--mono);color:var(--text-mid);
    cursor:pointer;transition:all .18s;letter-spacing:.04em;
  }
  .tpl-chip:hover { border-color:var(--border-lit);color:var(--text);background:var(--blue-dim); }

  /* ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ */
  @media (max-width:1200px) {
    .dash-grid { grid-template-columns:1fr 1fr 1fr;grid-template-rows:auto; }
    .clock-card { grid-column:1;grid-row:1; }
    .weather-card { grid-column:2;grid-row:1; }
    .github-card { grid-column:3;grid-row:1; }
    .vitals-card { grid-column:1/4;grid-row:2; }
    .commits-card { grid-column:1/3;grid-row:3; }
    .tasks-card { grid-column:3;grid-row:3; }
    .network-card { grid-column:1/4;grid-row:4; }
  }
  @media (max-width:700px) {
    .dash-grid { grid-template-columns:1fr;padding:12px;gap:10px; }
    .clock-card,.weather-card,.vitals-card,.github-card,.commits-card,.tasks-card,.network-card { grid-column:1;grid-row:auto; }
    header { padding:11px 14px; }
    .hdr-nav { display:none; }
    .n8n-stats-row { grid-template-columns:1fr 1fr; }
    .n8n-apps-grid { grid-template-columns:1fr; }
  }
</style>
</head>
<body>

<div class="ambient">
  <div class="blob b1"></div>
  <div class="blob b2"></div>
  <div class="blob b3"></div>
  <div class="blob b4"></div>
</div>

<div class="layout">

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê HEADER -->
<header>
  <div class="hdr-left">
    <div class="logo">üçì</div>
    <div>
      <div class="hdr-title">raspberrypi-node-05</div>
      <div class="hdr-sub">
        <span class="pulse-dot"></span>
        <span id="uptime-display">SYSTEM ONLINE ¬∑ 14d 02h 17m UPTIME</span>
      </div>
    </div>
  </div>

  <!-- Page tabs -->
  <div class="hdr-tabs">
    <button class="hdr-tab active" onclick="showPage('dashboard',this)">Dashboard</button>
    <button class="hdr-tab" onclick="showPage('n8n',this)">‚ö° Automations</button>
  </div>

  <nav class="hdr-nav">
    <a href="#" class="active">Overview</a>
    <a href="#">Containers</a>
    <a href="#">Logs</a>
  </nav>

  <div class="hdr-right">
    <button class="icon-btn" title="Notifications">üîî</button>
    <button class="icon-btn" title="Settings">‚öôÔ∏è</button>
    <div class="avatar">YN</div>
  </div>
</header>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DASHBOARD PAGE -->
<div class="page active" id="page-dashboard">
  <div class="dash-grid">

    <!-- Clock -->
    <div class="card clock-card">
      <div class="card-label"><span>Local Time</span><span class="tag tag-blue" id="tz-tag">UTC</span></div>
      <div class="clock-time">
        <span id="hh">--</span><span class="clock-colon">:</span><span id="mm">--</span><span class="clock-colon" style="font-size:26px">:</span><span class="clock-ss" id="ss">--</span>
      </div>
      <div class="clock-date" id="clock-date">Loading...</div>
      <div class="clock-tz" id="clock-tz">Detecting timezone...</div>
    </div>

    <!-- Weather -->
    <div class="card weather-card">
      <div class="card-label"><span>Weather</span><span class="tag tag-green">Live</span></div>
      <div class="weather-top">
        <div>
          <div class="weather-temp-big">18<sup>¬∞C</sup></div>
          <div class="weather-desc">Partly Cloudy</div>
          <div class="weather-loc">üìç San Francisco, CA</div>
        </div>
        <div class="weather-icon">‚õÖ</div>
      </div>
      <div class="weather-forecast">
        <div class="fday-card"><div class="fd-name">Tue</div><div class="fd-icon">‚òÅÔ∏è</div><div class="fd-temp">16¬∞</div></div>
        <div class="fday-card"><div class="fd-name">Wed</div><div class="fd-icon">‚òÄÔ∏è</div><div class="fd-temp">21¬∞</div></div>
        <div class="fday-card"><div class="fd-name">Thu</div><div class="fd-icon">üå¶Ô∏è</div><div class="fd-temp">19¬∞</div></div>
      </div>
    </div>

    <!-- System Vitals (2√ó2) -->
    <div class="card vitals-card">
      <div class="vitals-header">
        <div class="vitals-title">‚ö° Live System Vitals</div>
        <div class="vitals-status" id="vitals-status">‚óè Normal Load</div>
      </div>
      <div class="gauges-row">
        <!-- CPU -->
        <div class="gauge-wrap">
          <div class="gauge-container" style="width:90px;height:90px">
            <svg class="gauge-svg" width="90" height="90" viewBox="0 0 90 90">
              <circle class="gauge-track" cx="45" cy="45" r="38" stroke-width="5"/>
              <circle class="gauge-fill gf-blue" cx="45" cy="45" r="38" stroke-width="5" stroke-dasharray="0 238.76" id="cpu-arc"/>
            </svg>
            <div class="gauge-center">
              <span class="gauge-val" id="cpu-val" style="color:var(--blue)">0%</span>
              <span class="gauge-unit">CPU</span>
            </div>
          </div>
          <div class="gauge-label">4 Cores</div>
          <div class="gauge-sub">ARM Cortex-A76</div>
        </div>
        <!-- RAM -->
        <div class="gauge-wrap">
          <div class="gauge-container" style="width:90px;height:90px">
            <svg class="gauge-svg" width="90" height="90" viewBox="0 0 90 90">
              <circle class="gauge-track" cx="45" cy="45" r="38" stroke-width="5"/>
              <circle class="gauge-fill gf-green" cx="45" cy="45" r="38" stroke-width="5" stroke-dasharray="0 238.76" id="ram-arc"/>
            </svg>
            <div class="gauge-center">
              <span class="gauge-val" id="ram-val" style="color:var(--green);font-size:15px">4.2GB</span>
              <span class="gauge-unit">RAM</span>
            </div>
          </div>
          <div class="gauge-label">8GB DDR4</div>
          <div class="gauge-sub" id="ram-pct">52% used</div>
        </div>
        <!-- Temp -->
        <div class="gauge-wrap">
          <div class="gauge-container" style="width:90px;height:90px">
            <svg class="gauge-svg" width="90" height="90" viewBox="0 0 90 90">
              <circle class="gauge-track" cx="45" cy="45" r="38" stroke-width="5"/>
              <circle class="gauge-fill gf-orange" cx="45" cy="45" r="38" stroke-width="5" stroke-dasharray="0 238.76" id="temp-arc"/>
            </svg>
            <div class="gauge-center">
              <span class="gauge-val" id="temp-val" style="color:var(--orange);font-size:15px">42¬∞C</span>
              <span class="gauge-unit">Temp</span>
            </div>
          </div>
          <div class="gauge-label">Throttle@80¬∞C</div>
          <div class="gauge-sub">Fan: 1200 RPM</div>
        </div>
      </div>
      <div class="vitals-divider"></div>
      <div class="vitals-bottom">
        <div class="vstat">
          <div class="vstat-label">Disk</div>
          <div class="vstat-val" style="color:var(--blue)">118<span style="font-size:11px;font-weight:400;color:var(--text-dim)">GB</span></div>
          <div class="prog"><div class="prog-fill pf-blue" style="width:46%"></div></div>
          <div class="vstat-sub">46% of 256GB</div>
        </div>
        <div class="vstat">
          <div class="vstat-label">Net Down</div>
          <div class="vstat-val" id="net-down" style="color:var(--green)">--<span style="font-size:11px;font-weight:400;color:var(--text-dim)">MB/s</span></div>
          <div class="prog"><div class="prog-fill pf-green" style="width:62%"></div></div>
          <div class="vstat-sub">Peak: 850Mb</div>
        </div>
        <div class="vstat">
          <div class="vstat-label">Net Up</div>
          <div class="vstat-val" id="net-up" style="color:var(--orange)">--<span style="font-size:11px;font-weight:400;color:var(--text-dim)">MB/s</span></div>
          <div class="prog"><div class="prog-fill pf-blue" style="width:21%"></div></div>
          <div class="vstat-sub">Wi-Fi 6E</div>
        </div>
        <div class="vstat">
          <div class="vstat-label">Load Avg</div>
          <div class="vstat-val" style="color:var(--text)" id="load-avg">0.42</div>
          <div class="prog"><div class="prog-fill pf-green" style="width:10%"></div></div>
          <div class="vstat-sub">1m / 5m / 15m</div>
        </div>
      </div>
    </div>

    <!-- GitHub -->
    <div class="card github-card">
      <div class="card-label" style="margin-bottom:10px"><span>GitHub</span></div>
      <div class="gh-profile">
        <div class="gh-ava">YN</div>
        <div><div class="gh-name">Your Name</div><div class="gh-user">@yourusername</div></div>
      </div>
      <div class="gh-nums">
        <div class="gh-num"><div class="gh-num-val">48</div><div class="gh-num-label">Repos</div></div>
        <div class="gh-num"><div class="gh-num-val">892</div><div class="gh-num-label">Followers</div></div>
        <div class="gh-num"><div class="gh-num-val">2.4k</div><div class="gh-num-label">Stars</div></div>
      </div>
      <div class="card-label" style="margin-bottom:6px"><span>Contributions</span><span class="gh-total" id="contrib-total">‚Äî</span></div>
      <div class="contrib-wrap" style="height:90px">
        <div class="contrib-grid" id="contrib-grid"></div>
      </div>
    </div>

    <!-- Commits -->
    <div class="card commits-card">
      <div class="card-label" style="margin-bottom:10px"><span>Recent Commits</span><span class="tag tag-blue">GitHub</span></div>
      <div class="commit-list">
        <div class="commit-item">
          <div class="commit-dot"></div>
          <div class="commit-body">
            <div class="commit-top"><span class="commit-repo cr-blue">dashboard-ui</span><span class="commit-time">2h ago</span></div>
            <div class="commit-msg">feat: implement glassmorphism bento grid layout</div>
            <div class="commit-sha">a3f9d12 ¬∑ main</div>
          </div>
        </div>
        <div class="commit-item">
          <div class="commit-dot" style="background:var(--green);box-shadow:0 0 6px rgba(34,217,142,.6)"></div>
          <div class="commit-body">
            <div class="commit-top"><span class="commit-repo cr-gray">core-api</span><span class="commit-time">5h ago</span></div>
            <div class="commit-msg">fix: handle websocket reconnect timeout edge case</div>
            <div class="commit-sha">b8e2c01 ¬∑ develop</div>
          </div>
        </div>
        <div class="commit-item">
          <div class="commit-dot"></div>
          <div class="commit-body">
            <div class="commit-top"><span class="commit-repo cr-blue">pi-dashboard</span><span class="commit-time">Yesterday</span></div>
            <div class="commit-msg">feat: add n8n automation panel with app management</div>
            <div class="commit-sha">c7d4a55 ¬∑ main</div>
          </div>
        </div>
        <div class="commit-item">
          <div class="commit-dot" style="background:var(--purple);box-shadow:0 0 6px rgba(167,139,250,.6)"></div>
          <div class="commit-body">
            <div class="commit-top"><span class="commit-repo cr-gray">n8n-workflows</span><span class="commit-time">2d ago</span></div>
            <div class="commit-msg">chore: export Discord + GitHub webhook workflows</div>
            <div class="commit-sha">d1b9f33 ¬∑ main</div>
          </div>
        </div>
      </div>
      <button class="btn-ghost" onclick="window.open('https://github.com','_blank')">‚Üí View all on GitHub</button>
    </div>

    <!-- Tasks -->
    <div class="card tasks-card">
      <div class="card-label" style="margin-bottom:10px"><span>Today's Agenda</span><span class="tag tag-blue" id="tasks-remaining">3 left</span></div>
      <div class="task-list" id="task-list">
        <div class="task-item done" onclick="toggleTask(this)">
          <div class="task-cb"><span class="task-chk">‚úì</span></div>
          <div style="flex:1;min-width:0"><div class="task-text">Review PR #421</div><div class="task-meta">High ¬∑ GitHub</div></div>
          <div class="task-pri phi">HI</div>
        </div>
        <div class="task-item" onclick="toggleTask(this)">
          <div class="task-cb"><span class="task-chk">‚úì</span></div>
          <div style="flex:1;min-width:0"><div class="task-text">Pi5 Fan Speed Adjustment</div><div class="task-meta">System ¬∑ Maintenance</div></div>
          <div class="task-pri pmd">MD</div>
        </div>
        <div class="task-item" onclick="toggleTask(this)">
          <div class="task-cb"><span class="task-chk">‚úì</span></div>
          <div style="flex:1;min-width:0"><div class="task-text">Backup Home Assistant DB</div><div class="task-meta">System ¬∑ Due today</div></div>
          <div class="task-pri pmd">MD</div>
        </div>
        <div class="task-item" onclick="toggleTask(this)">
          <div class="task-cb"><span class="task-chk">‚úì</span></div>
          <div style="flex:1;min-width:0"><div class="task-text">Weekly Sprint Planning</div><div class="task-meta">14:00 PM ¬∑ Work</div></div>
          <div class="task-pri plo">LO</div>
        </div>
      </div>
      <div class="tasks-info">‚ÑπÔ∏è <span id="tasks-info-text">3 tasks remaining</span></div>
    </div>

    <!-- Network -->
    <div class="card network-card">
      <div class="card-label" style="margin-bottom:10px"><span>Network Overview</span><span class="tag tag-green">WPA3 Secure</span></div>
      <div class="net-inner">
        <div style="flex:1">
          <div style="font-size:13px;font-weight:700;margin-bottom:10px">Wi-Fi 6E ¬∑ Gigabit LAN</div>
          <div class="net-stats">
            <div class="net-stat">
              <div class="ns-label">Download</div>
              <div class="ns-val" style="color:var(--green)" id="net-dl2">124<span style="font-size:11px;color:var(--text-dim)"> MB/s</span></div>
              <div class="ns-sub">‚Üì 934 Mbps</div>
            </div>
            <div class="net-stat">
              <div class="ns-label">Upload</div>
              <div class="ns-val" style="color:var(--blue)" id="net-ul2">42<span style="font-size:11px;color:var(--text-dim)"> MB/s</span></div>
              <div class="ns-sub">‚Üë 328 Mbps</div>
            </div>
          </div>
        </div>
        <div class="net-divider"></div>
        <div class="net-right">
          <svg class="sparkline" viewBox="0 0 160 38" preserveAspectRatio="none">
            <defs><linearGradient id="sg" x1="0" x2="0" y1="0" y2="1"><stop offset="0%" stop-color="#3b9eff" stop-opacity=".3"/><stop offset="100%" stop-color="#3b9eff" stop-opacity="0"/></linearGradient></defs>
            <path id="spark-path" d="M0,30 L13,24 L26,27 L40,14 L53,21 L66,9 L80,17 L93,11 L106,19 L120,7 L133,13 L146,4 L160,9" fill="none" stroke="#3b9eff" stroke-width="1.5" stroke-linejoin="round"/>
            <path id="spark-area" d="M0,30 L13,24 L26,27 L40,14 L53,21 L66,9 L80,17 L93,11 L106,19 L120,7 L133,13 L146,4 L160,9 V38 H0Z" fill="url(#sg)"/>
          </svg>
          <div class="net-ip">192.168.1.104</div>
          <div class="net-badge">Gateway: <b>192.168.1.1 ¬∑ Stable</b></div>
          <div class="net-badge">DNS: <b>1.1.1.1 Cloudflare</b></div>
          <div class="net-badge">Ping: <b style="color:var(--green)">4ms RTT</b></div>
        </div>
      </div>
    </div>

  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê N8N PAGE -->
<div class="page" id="page-n8n">
  <div class="n8n-page">

    <!-- Top bar -->
    <div class="n8n-topbar">
      <div>
        <div class="n8n-title">
          <div class="n8n-title-icon">‚ö°</div>
          n8n Automation Hub
        </div>
        <div class="n8n-sub">Self-hosted workflow engine ¬∑ raspberrypi:5678 ¬∑ <span id="n8n-url" style="color:var(--blue)">http://192.168.1.104:5678</span></div>
      </div>
      <button class="n8n-add-btn" onclick="openModal()">
        <span style="font-size:16px">Ôºã</span> Add App / Workflow
      </button>
    </div>

    <!-- Stats row -->
    <div class="n8n-stats-row">
      <div class="n8n-stat">
        <div class="n8n-stat-label">Active Workflows</div>
        <div class="n8n-stat-val" id="stat-active" style="color:var(--green)">0</div>
        <div class="n8n-stat-sub" id="stat-active-sub">Loading...</div>
      </div>
      <div class="n8n-stat">
        <div class="n8n-stat-label">Total Executions</div>
        <div class="n8n-stat-val" id="stat-runs" style="color:var(--blue)">0</div>
        <div class="n8n-stat-sub">All time</div>
      </div>
      <div class="n8n-stat">
        <div class="n8n-stat-label">Success Rate</div>
        <div class="n8n-stat-val" id="stat-success" style="color:var(--green)">‚Äî</div>
        <div class="n8n-stat-sub">Last 24h</div>
      </div>
      <div class="n8n-stat">
        <div class="n8n-stat-label">n8n Version</div>
        <div class="n8n-stat-val" style="color:var(--text);font-size:20px">1.28.0</div>
        <div class="n8n-stat-sub">Self-hosted ¬∑ Docker</div>
      </div>
    </div>

    <!-- App grid label -->
    <div class="n8n-grid-label">
      <span>Connected Apps &amp; Workflows</span>
      <span class="tag tag-purple" id="app-count-tag">5 apps</span>
    </div>

    <!-- App grid -->
    <div class="n8n-apps-grid" id="n8n-apps-grid"></div>

  </div>
</div>

</div><!-- /layout -->

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ADD APP MODAL -->
<div class="modal-backdrop" id="add-modal">
  <div class="modal">
    <button class="modal-close" onclick="closeModal()">‚úï</button>
    <div class="modal-title">‚ûï Add App or Workflow</div>
    <div class="modal-sub">Connect a new service or import an n8n workflow</div>

    <!-- Quick templates -->
    <div class="form-label">Quick Templates</div>
    <div class="template-chips">
      <div class="tpl-chip" onclick="fillTemplate('discord')">Discord Bot</div>
      <div class="tpl-chip" onclick="fillTemplate('github')">GitHub Alerts</div>
      <div class="tpl-chip" onclick="fillTemplate('homeassistant')">Home Assistant</div>
      <div class="tpl-chip" onclick="fillTemplate('telegram')">Telegram Bot</div>
      <div class="tpl-chip" onclick="fillTemplate('rss')">RSS Monitor</div>
      <div class="tpl-chip" onclick="fillTemplate('pihole')">Pi-hole Stats</div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label class="form-label">App Name *</label>
        <input class="form-input" id="f-name" placeholder="e.g. Discord Notifier" type="text"/>
      </div>
      <div class="form-group">
        <label class="form-label">Category</label>
        <select class="form-select" id="f-cat">
          <option>Notifications</option>
          <option>Monitoring</option>
          <option>Automation</option>
          <option>IoT / Smart Home</option>
          <option>Data & Analytics</option>
          <option>DevOps</option>
          <option>Social Media</option>
          <option>Custom</option>
        </select>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label class="form-label">Service URL / Webhook</label>
        <input class="form-input" id="f-url" placeholder="http://localhost:5678/webhook/..." type="text"/>
      </div>
      <div class="form-group">
        <label class="form-label">Icon (emoji)</label>
        <input class="form-input" id="f-icon" placeholder="ü§ñ" type="text" maxlength="2"/>
      </div>
    </div>

    <div class="form-group">
      <label class="form-label">Description</label>
      <textarea class="form-textarea" id="f-desc" placeholder="What does this workflow do?"></textarea>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label class="form-label">Trigger</label>
        <select class="form-select" id="f-trigger">
          <option>Webhook</option>
          <option>Schedule (Cron)</option>
          <option>Manual</option>
          <option>Event-based</option>
          <option>RSS Feed</option>
          <option>MQTT</option>
        </select>
      </div>
      <div class="form-group">
        <label class="form-label">Accent Color</label>
        <select class="form-select" id="f-accent">
          <option value="red">Red / Pink</option>
          <option value="blue">Blue / Indigo</option>
          <option value="green">Green / Cyan</option>
          <option value="orange">Orange / Amber</option>
          <option value="purple">Purple / Rose</option>
        </select>
      </div>
    </div>

    <div class="modal-actions">
      <button class="btn-cancel" onclick="closeModal()">Cancel</button>
      <button class="btn-submit" onclick="addApp()">‚ö° Deploy Workflow</button>
    </div>
  </div>
</div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CLOCK
function updateClock() {
  const now = new Date();
  const p = n => String(n).padStart(2,'0');
  document.getElementById('hh').textContent = p(now.getHours());
  document.getElementById('mm').textContent = p(now.getMinutes());
  document.getElementById('ss').textContent = p(now.getSeconds());
  const DAYS=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
  const MONTHS=['January','February','March','April','May','June','July','August','September','October','November','December'];
  document.getElementById('clock-date').textContent = `${DAYS[now.getDay()]}, ${MONTHS[now.getMonth()]} ${now.getDate()}`;
  const tz = Intl.DateTimeFormat().resolvedOptions().timeZone;
  document.getElementById('clock-tz').textContent = tz;
  document.getElementById('tz-tag').textContent = tz.split('/').pop() || 'UTC';
}
setInterval(updateClock, 1000); updateClock();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê UPTIME
let uptimeSecs = 14*86400+2*3600+17*60;
setInterval(() => {
  uptimeSecs++;
  const d=Math.floor(uptimeSecs/86400), h=Math.floor((uptimeSecs%86400)/3600),
        m=Math.floor((uptimeSecs%3600)/60), s=uptimeSecs%60;
  document.getElementById('uptime-display').textContent =
    `SYSTEM ONLINE ¬∑ ${d}d ${String(h).padStart(2,'0')}h ${String(m).padStart(2,'0')}m ${String(s).padStart(2,'0')}s UPTIME`;
}, 1000);

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê GAUGES
const CIRC = 2*Math.PI*38; // r=38
function setGauge(id, pct) {
  const el = document.getElementById(id); if(!el) return;
  el.style.strokeDasharray = `${(pct/100*CIRC).toFixed(1)} ${CIRC.toFixed(1)}`;
}
let cpu=24, ram=52, temp=42;
function updateStats() {
  cpu  = Math.max(5,  Math.min(95, cpu  + (Math.random()-.45)*10));
  ram  = Math.max(35, Math.min(82, ram  + (Math.random()-.5)*3));
  temp = Math.max(38, Math.min(73, temp + (Math.random()-.5)*1.5));
  document.getElementById('cpu-val').textContent = Math.round(cpu)+'%';
  document.getElementById('ram-val').textContent = (ram*8/100).toFixed(1)+'GB';
  document.getElementById('ram-pct').textContent = Math.round(ram)+'% used';
  document.getElementById('temp-val').textContent = Math.round(temp)+'¬∞C';
  setGauge('cpu-arc', cpu); setGauge('ram-arc', ram); setGauge('temp-arc', temp/80*100);
  const tv=document.getElementById('temp-val');
  tv.style.color = temp>65?'var(--red)':temp>55?'var(--orange)':'var(--green)';
  const st=document.getElementById('vitals-status');
  if(cpu>75){st.textContent='‚ö† High Load';st.style.cssText='background:rgba(255,79,106,.1);color:var(--red);border:1px solid rgba(255,79,106,.2)';}
  else{st.textContent='‚óè Normal Load';st.style.cssText='background:var(--green-dim);color:var(--green);border:1px solid rgba(34,217,142,.2)';}
  const nd=Math.round(80+Math.random()*80), nu=Math.round(20+Math.random()*40);
  document.getElementById('net-down').innerHTML=nd+'<span style="font-size:11px;font-weight:400;color:var(--text-dim)">MB/s</span>';
  document.getElementById('net-up').innerHTML=nu+'<span style="font-size:11px;font-weight:400;color:var(--text-dim)">MB/s</span>';
  document.getElementById('net-dl2').innerHTML=nd+'<span style="font-size:11px;color:var(--text-dim)"> MB/s</span>';
  document.getElementById('net-ul2').innerHTML=nu+'<span style="font-size:11px;color:var(--text-dim)"> MB/s</span>';
  document.getElementById('load-avg').textContent=(0.1+Math.random()*.8).toFixed(2);
}
setTimeout(()=>{ setGauge('cpu-arc',24); setGauge('ram-arc',52); setGauge('temp-arc',42/80*100); },200);
setInterval(updateStats,2500);

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SPARKLINE
const sparkPts=[30,24,27,14,21,9,17,11,19,7,13,4,9];
function updateSparkline(){
  sparkPts.shift(); sparkPts.push(Math.random()*33+2);
  const pts=sparkPts.map((y,i)=>`${(i*(160/12)).toFixed(0)},${y.toFixed(1)}`).join(' L ');
  document.getElementById('spark-path').setAttribute('d','M '+pts);
  document.getElementById('spark-area').setAttribute('d','M '+pts+' V38 H0Z');
}
setInterval(updateSparkline,800);

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CONTRIB GRID
function buildContribs(){
  const grid=document.getElementById('contrib-grid'); if(!grid) return;
  const lvl=[0,0,0,0,1,1,2,2,3,4];
  const data=Array.from({length:7*24},()=>lvl[Math.floor(Math.random()*lvl.length)]);
  for(let i=data.length-49;i<data.length;i++) data[i]=Math.min(4,data[i]+Math.floor(Math.random()*2));
  let total=0; data.forEach(v=>total+=v);
  document.getElementById('contrib-total').textContent=total.toLocaleString()+' this year';
  grid.innerHTML='';
  data.forEach(v=>{ const c=document.createElement('div'); c.className=`cc c${v}`; grid.appendChild(c); });
}
buildContribs();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TASKS
function toggleTask(item){ item.classList.toggle('done'); updateTaskCount(); }
function updateTaskCount(){
  const all=document.querySelectorAll('.task-item').length;
  const done=document.querySelectorAll('.task-item.done').length;
  const left=all-done;
  document.getElementById('tasks-remaining').textContent=left+' left';
  document.getElementById('tasks-info-text').textContent=`${left} task${left!==1?'s':''} remaining`;
}
updateTaskCount();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PAGE SWITCHER
function showPage(id, btn){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.hdr-tab').forEach(b=>b.classList.remove('active'));
  document.getElementById('page-'+id).classList.add('active');
  btn.classList.add('active');
  if(id==='n8n') renderN8nStats();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê N8N DATA
let n8nApps = [
  {
    id:1, name:'Discord Notifier', cat:'Notifications', icon:'üí¨', accent:'blue',
    status:'running', desc:'Posts Pi system alerts to a Discord channel when CPU or temp thresholds are exceeded.',
    url:'http://localhost:5678/webhook/discord-alert', trigger:'Event-based',
    runs:1842, maxRuns:2000, lastRun:'2 min ago'
  },
  {
    id:2, name:'GitHub PR Watcher', cat:'DevOps', icon:'üêô', accent:'green',
    status:'running', desc:'Polls GitHub API every 5 min and sends Telegram notification on new PRs or CI failures.',
    url:'http://localhost:5678/webhook/gh-pr', trigger:'Schedule (Cron)',
    runs:3201, maxRuns:4000, lastRun:'5 min ago'
  },
  {
    id:3, name:'Home Assistant Bridge', cat:'IoT / Smart Home', icon:'üè†', accent:'orange',
    status:'running', desc:'Syncs Pi uptime data and temperature to Home Assistant dashboard via MQTT.',
    url:'http://192.168.1.100:8123/api/webhook/pi-bridge', trigger:'MQTT',
    runs:8900, maxRuns:10000, lastRun:'1 min ago'
  },
  {
    id:4, name:'RSS Tech Digest', cat:'Data & Analytics', icon:'üì∞', accent:'purple',
    status:'paused', desc:'Fetches top HackerNews & Dev.to posts daily and emails a curated digest.',
    url:'', trigger:'Schedule (Cron)',
    runs:142, maxRuns:200, lastRun:'Yesterday'
  },
  {
    id:5, name:'Backup Scheduler', cat:'DevOps', icon:'üíæ', accent:'red',
    status:'running', desc:'Backs up Pi config files and n8n workflows to GitHub Gist every night at 2 AM.',
    url:'', trigger:'Schedule (Cron)',
    runs:28, maxRuns:30, lastRun:'Last night'
  },
];

function renderN8nStats(){
  const active=n8nApps.filter(a=>a.status==='running').length;
  const runs=n8nApps.reduce((s,a)=>s+a.runs,0);
  document.getElementById('stat-active').textContent=active;
  document.getElementById('stat-active-sub').textContent=active+' of '+n8nApps.length+' workflows active';
  document.getElementById('stat-runs').textContent=runs.toLocaleString();
  document.getElementById('stat-success').textContent='97.4%';
  document.getElementById('app-count-tag').textContent=n8nApps.length+' apps';
  renderApps();
}

const ACCENT_CLASSES={
  red:'accent-red ai-red', blue:'accent-blue ai-blue',
  green:'accent-green ai-green', orange:'accent-orange ai-orange', purple:'accent-purple ai-purple'
};
const STATUS_HTML={
  running:'<div class="app-status-badge status-running"><span>‚óè</span> Running</div>',
  stopped:'<div class="app-status-badge status-stopped"><span>‚óè</span> Stopped</div>',
  paused: '<div class="app-status-badge status-paused"><span>‚óè</span> Paused</div>',
};
const RUNS_COLOR={red:'#e44',blue:'var(--blue)',green:'var(--green)',orange:'var(--orange)',purple:'var(--purple)'};

function renderApps(){
  const grid=document.getElementById('n8n-apps-grid'); if(!grid)return;
  const [ac,ic]=ACCENT_CLASSES[n8nApps[0]?.accent||'blue'].split(' ');
  grid.innerHTML=n8nApps.map(app=>{
    const [accCls,iconCls]=(ACCENT_CLASSES[app.accent]||'accent-blue ai-blue').split(' ');
    const pct=Math.min(100,Math.round(app.runs/app.maxRuns*100));
    const isRunning=app.status==='running';
    return `
    <div class="n8n-app-card ${accCls} ${isRunning?'running':''}" id="app-${app.id}">
      <div class="app-top">
        <div class="app-icon-wrap">
          <div class="app-icon ${iconCls}">${app.icon}</div>
          <div>
            <div class="app-name">${app.name}</div>
            <div class="app-cat">${app.cat}</div>
          </div>
        </div>
        ${STATUS_HTML[app.status]||STATUS_HTML.stopped}
      </div>
      <div class="app-desc">${app.desc}</div>
      <div class="app-meta">
        <span class="app-meta-item">‚ö° ${app.trigger}</span>
        <span class="app-meta-item">üïê ${app.lastRun}</span>
        ${app.url?`<span class="app-meta-item" style="color:var(--blue);cursor:pointer" onclick="window.open('${app.url}','_blank')">üîó Webhook</span>`:''}
      </div>
      <div class="app-runs-bar">
        <div class="app-runs-label">
          <span class="app-runs-text">EXECUTIONS</span>
          <span class="app-runs-count">${app.runs.toLocaleString()} / ${app.maxRuns.toLocaleString()}</span>
        </div>
        <div class="runs-bar-track">
          <div class="runs-bar-fill" style="width:${pct}%;background:${RUNS_COLOR[app.accent]||'var(--blue)'}"></div>
        </div>
      </div>
      <div class="app-actions">
        ${isRunning
          ? `<button class="app-btn danger" onclick="toggleAppStatus(${app.id})">‚è∏ Pause</button>`
          : `<button class="app-btn primary" onclick="toggleAppStatus(${app.id})">‚ñ∂ Start</button>`}
        <button class="app-btn" onclick="openN8n()">‚ö° Open n8n</button>
        <button class="app-btn danger" onclick="deleteApp(${app.id})">üóë</button>
      </div>
    </div>`;
  }).join('');
}

function toggleAppStatus(id){
  const app=n8nApps.find(a=>a.id===id); if(!app)return;
  if(app.status==='running') app.status='paused';
  else app.status='running';
  renderN8nStats();
}

function deleteApp(id){
  if(!confirm('Remove this workflow from the dashboard?')) return;
  n8nApps=n8nApps.filter(a=>a.id!==id);
  renderN8nStats();
}

function openN8n(){
  window.open('http://'+window.location.hostname+':5678','_blank');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MODAL
function openModal(){ document.getElementById('add-modal').classList.add('open'); }
function closeModal(){
  document.getElementById('add-modal').classList.remove('open');
  ['f-name','f-url','f-icon','f-desc'].forEach(id=>document.getElementById(id).value='');
}
document.getElementById('add-modal').addEventListener('click',function(e){ if(e.target===this) closeModal(); });

const TEMPLATES={
  discord:  {name:'Discord Notifier',cat:'Notifications',icon:'üí¨',desc:'Send Pi alerts to Discord channels.',trigger:'Event-based',accent:'blue'},
  github:   {name:'GitHub PR Watcher',cat:'DevOps',icon:'üêô',desc:'Monitor pull requests and CI status.',trigger:'Schedule (Cron)',accent:'green'},
  homeassistant:{name:'Home Assistant Bridge',cat:'IoT / Smart Home',icon:'üè†',desc:'Sync Pi data to Home Assistant.',trigger:'MQTT',accent:'orange'},
  telegram: {name:'Telegram Bot',cat:'Notifications',icon:'‚úàÔ∏è',desc:'Send alerts and commands via Telegram.',trigger:'Webhook',accent:'blue'},
  rss:      {name:'RSS Tech Digest',cat:'Data & Analytics',icon:'üì∞',desc:'Email daily tech news digest.',trigger:'Schedule (Cron)',accent:'purple'},
  pihole:   {name:'Pi-hole Stats',cat:'Monitoring',icon:'üõ°Ô∏è',desc:'Pull Pi-hole stats into dashboard.',trigger:'Schedule (Cron)',accent:'red'},
};

function fillTemplate(key){
  const t=TEMPLATES[key]; if(!t) return;
  document.getElementById('f-name').value=t.name;
  document.getElementById('f-icon').value=t.icon;
  document.getElementById('f-desc').value=t.desc;
  const catSel=document.getElementById('f-cat');
  for(let o of catSel.options){ if(o.value===t.cat||o.text===t.cat){catSel.value=o.value;break;} }
  const trigSel=document.getElementById('f-trigger');
  for(let o of trigSel.options){ if(o.text===t.trigger){trigSel.value=o.value;break;} }
  const accSel=document.getElementById('f-accent');
  for(let o of accSel.options){ if(o.value===t.accent){accSel.value=o.value;break;} }
}

function addApp(){
  const name=document.getElementById('f-name').value.trim();
  if(!name){ alert('Please enter an app name.'); return; }
  const newApp={
    id: Date.now(),
    name, icon: document.getElementById('f-icon').value.trim()||'‚ö°',
    cat:  document.getElementById('f-cat').value,
    desc: document.getElementById('f-desc').value.trim()||'Custom n8n workflow.',
    url:  document.getElementById('f-url').value.trim(),
    trigger: document.getElementById('f-trigger').value,
    accent:  document.getElementById('f-accent').value,
    status:'running', runs:0, maxRuns:1000, lastRun:'Just now'
  };
  n8nApps.push(newApp);
  closeModal();
  renderN8nStats();
}

// Init n8n stats on load so they're ready
renderN8nStats();
</script>
</body>
</html>
